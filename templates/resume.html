<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resumary</title>
    <link rel="stylesheet" type="text/css" href="../static/resume.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" type="image/png" href="../static/job.png">
    <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=yJccUv3xnEEW8HXh0E4ceNiXZ3JDuPCARdy1YoB2As6ig2F1j8j74ALPRcEChywhW6z5sf4Id9ftgT2efhASv1CBzdMilg4D-44I63gk1ZVAy3qW1d6ygTgIYoHt2o6yBwbjR1ViZS8kfQBuHsXuaphT-IsklBQC2mlPyX46B_QSwJESpmsfTkzNzhIKlMiK9QFK5DRFmaXZeqbmJ0bP5HwRezHDXi2vua7mfWePDn3g2r5Nfz9VuFWtB-5d5Ud1nBO754REG_r1VMlrz_LEH1s41gymWv7fCllXHQNvL7iRAMuKcJum_Wj1t9Tg94tRlreSz4g4T_dAwtaux3GQU-CIJ2mulQnyrCyNGxb5uHYHFIrQrWvdnyXqG1DeyUc72H6gH01BJqiJOQFicgnY8sI3cMbgv7DvvZIXrluraXuWsZUHc89rn4SMgqZ9L2VYsOGTFBIN8VkHKg8I4H5i7Lvy1ILBUDjAbQl-ZjPgu_LJFrRigH3feQN5igcpDiVAUR36_F41Fv940YSlx3YEMe_reTDlBS1hjVPmxqZQxs_j7Zvwg0Ev4osT2agldfKewdTe9gAQP5W2qqZr9yuzum7I_UyYLqeVOcGEUcbKgvoc4xue7DRi0Pi6URqHls4zSAZ65berStFyISEM5aN7Eoj3A0jx0TRHUm2PhkNvYcLS0pQTU_05o5FyZFfe4DpALlbPVpKv-EsQK7mYrGAs4JZMab1buEHqH5gR_0mXpC-A6wUCwWlN_GAGH7K6GHxA24Y-Yz0xFf1d4QI93eKfnoeB0xhoKQE0uxtiKd_hhylYSV1SRj9MUH0_UFOd2BVeNjPNsn0mswy7Lbikl06i7l8CZVYX3TDjECo9G2MVuKIgqhHhy8iCtAzgG-38EF7OjonbSCY_nbXTtS-l3GJXRbMjTwxF5gsNmftQ-8O8VLOVQJcmjaRtheWbHyV6CKP_uw1SaA7WhgpI4EYhCAcwgrZhYz04OX2caHunHu_y1b8gh_enNQdU5MCsv9_9OFS-WcOxgmHq-pdEfdDPLwbSgg9jrDKxeLmNPkBxtFSR-JOglEG62S0vJPtO3OBLGy3TOeHfpwyqALfezXb8qUT5TfkzscbPYFCQgPMNhydWZA074LGR4TUL_tvKM3sO_P08TWFPfdaVAHNqxuquH6BmApICHlupPJbhCOe626SRI9I9wQ4zxO48Ubwk4lFsPWk-DEx1sZExlkqoFlSJGENAw-aYOhFydJkpjYeC4L8efZYVGQ_-pR4aCzWQ6hBFKMwcgt4Gr52ViZq_cNnm-wZDlwNnuCu1quO2Tf8M0ZlfXTqjojQRLqqL4yEje0NW6gPupXHOO1fxpLlqFuZXyK8qKw49HzYSSeQl-ofA-rru7KIb2hkL1-TFA5Wn1iwj6bCzhXxZTibxB8JtE1uFMrRiqblZcdmaO0nbt63WlicLAtD-B1JqpKxcpF_H_Sq-V27oVXYmrtXK6IrkhsglUCvzqZ1RqspGVgkEBH0BLZTSsdwRikuZbhIN6LcH3AdDuDH4mfITIUYLw0Kkkb0HXeeFa237ahXHTE-z9onJv28motmx0ZpWRIKmN-6SrrC8n1chHX4Fy5bcj70Qq-hofKgn5kHOjZEszZVzaqi79_BBm3AJS13xC7MR77T6xWEQwZxV" nonce="b614be795e0a172fc16b180f121c907f" charset="UTF-8"></script><link rel="stylesheet" crossorigin="anonymous" href="https://gc.kis.v2.scr.kaspersky-labs.com/E3E8934C-235A-4B0E-825A-35A08381A191/abn/main.css?attr=aHR0cHM6Ly9tYWlsLWF0dGFjaG1lbnQuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2F0dGFjaG1lbnQvdS8wLz91aT0yJmlrPTQ4OWU4ZGZjZjMmYXR0aWQ9MC4xJnBlcm1tc2dpZD1tc2ctZjoxNzk4MTU2MDk1MzkwMzMzMzY3JnRoPTE4ZjQ1NTcxMTQ3MWI5Yjcmdmlldz1hdHQmZGlzcD1zYWZlJnJlYWxhdHRpZD1mX2x2c3Q0aTM0MiZzYWRkYmF0PUFOR2pkSi1nRDBsR0tzYWozS0VLdTJOZ1k0SFVvVFlzaEZJdWgyRHVrVnAzWDRRWFpwS2otTzVWN3g1aFRibkxVRnhzSWhfQkpfdE9vTWpOaF90Ul95SGQtSzVoOU5Dc0tUTmgzZEZWUXotMHBKZ2ZCaHhEcm1KRXFVSGhwVFd5LUszdzlzTTdTM1dmV2s4N0NOQWVjbFE1djV3bzhsaXAtOThjOTlmODFYcXprVGtlSEhXZndyTXAxRFV5ZTlBNGNzUWwzaEFwWXBOcmxFb3llSmR4NlRxQllxQTlqZnJLUzVCZ3ljRWM0Rkw4ZURMeEZ6aUJhdmZLQ0hwR2lhbDdzZ3djR29lVzZqUVRfTGlCcndTZ1JVRjBWMnhRazhoWTZQYXFnOGJxSjBJVnlpWnBubHktVkYtd01IXzJfbjhuOXo0TnN0QXRQTF85V3c2VzhrX0ZZNVNVYUhvRHVvLTR2VzRFZlRfbklRRWlDT3ozWEx2amw2Yy14QzlHOGswLVN2QllyVHZTQ2pyS2pqU0VQdTdXREs2dXB2OEZ0Q3FvTFVyQnBFME1aSUl5UWczc0tGeUo4TmtUcEpNWHZHbXNyb2JrMmZHQWc3UlJDQjBuZ2p4ZVFyX2hSTDRCdmlkbVU3VDBZTkNJRV9yQkJUXzZrSzNIQ29KQk1nbnRPSTd5cXh3Sy15NE5veDNkWGdtdm1EWXVJd1VfcDJSUVE4Y3VHczNDamU4MFBHSmlYLUttclFzdnpaWXplMkNDSll4VTVuRXNib2tTQjJCZ3p1TXFTa2FnLW5QbVI5bVVjVXA1ZlhpUXRpeGJ6X0VqMGo0QlNJTXdFVTNFTXUtMzU1cUJxUXhHempjUldLTWY0a0dpaUxaQmtQa0p3Nkw1ZEFWZm1HN0JKYzUySTNkMV9CYzlfaEpmTDBHVkhIVzJiTVBKZWZSQ2g0cUd4SkFraEFQQVppdFdnYWd2RVE2by1KWTd4aWFubWhvX1NnQVMtbUhjOUFFdGJQd1ExdXVBU242ZUk2RmJkS0g4UzcyQmt5Qm9KRHZja1V4OUlxQm1sMVBEeXF1UUNkR29kM2lhQnVDcnZHbWM0TEd5dXFmTVV5azdaQXJBNGh1Ri1oV1VQeFNKSkJlQVZpRWlHdFhTcUw5VzlWOXl1N1BlMnQxR193TEd0NklXbzJvQ2dkb1ZEMThUSVhSejcwX3dSY1NjSmk5Nk5tbXFZVEFjV2hIemZLMXdrSF9nLW1pV2tDM3Z0TFJXRDhOUDBFUnREM0Q4bEdUNjdOZDM3a3ZmSGtFZmhWOHI4bXdYMHNUVzc0M2x6S0NmQnY0c3RKVjNadVQtS2RXY1ZxbVlSNmc0bDM2c3htRQ"/><style>
        .drop-zone {
            border: 2px dashed #FF5722;
            border-radius: 5px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            background-color: #fff5f2;
            /* Light color */
        }

        .drop-zone.hover {
            background-color: #f0f0f0;
        }

        .cloud-icon {
            display: block;
            margin-bottom: 10px;
        }

        .invisible-line {
            border-bottom: 1px solid transparent;
            /* Invisible line */
            margin-bottom: 10px;
        }


        /* Hide file input for the element with id "fileInput" */
        #fileInput[type="file"] {
            display: none;
        }

        #fileModify[type="file"] {
            margin: 0 auto;
        }

        .custom-upload-button {
            background-color: #FF5722;
            color: white;
        }

        body {
            padding-top: 70px;
            /* Adjust this value based on the height of your navbar */
        }

        .input-group {
            position: relative;
            border-radius: 50px;
            /* Adjust the roundness of the input group */

        }

        .input-group-text {
            background-color: transparent;
            /* Remove background color */
            border: none;
            /* Remove border */
            position: absolute;
            /* Position the search icon absolutely */
            right: 0px;
            /* Adjust the right position as needed */
            top: 50%;
            /* Align the icon vertically */
            transform: translateY(-50%);
            /* Center the icon vertically */
        }

        .form-inline {
            border-radius: 50px;
            /* Adjust the roundness of the form */
            height: 40px;
            /* Adjust the height of the form */
        }


        .form-control {
            height: 100%;
            /* Make the height of the input field match the height of the form */
        }

        .table-hover tbody tr:hover {
            background-color: #f5f5f5;
            /* Change the background color on hover */
        }

        .custom-table {
            background-color: #e9ecef;
            /* Set the background color of the table */
        }

        .custom-table thead {
            background-color: #1e6ab7;
            /* Set the background color of the table head */
            color: white;
            /* Set the text color of the table head */
        }

        /* Custom CSS to remove table borders */
        .table-bordered td,
        .table-bordered th {
            border: none;
        }

        .custom-table tbody tr:nth-child(odd) {
            background-color: #f0f0f0;
            /* Light color for odd rows */
        }

        .custom-table tbody tr:nth-child(even) {
            background-color: #ffffff;
            /* White color for even rows */
        }

        /* Change text color on hover */
        .custom-table tbody tr:hover td {
            color: #1e6ab7;
            /* Change text color to desired color on hover */
        }

        nav.pagination {
            position: fixed;
            bottom: 0px;
            left: 50%;
            transform: translateX(-50%);
        }

        .page-link {
            color: #1e6ab7;
            /* Change this to your desired color */
        }

        /* Change color of active pagination link */
        .page-item.active .page-link {
            background-color: #1e6ab7;
            /* Change this to your desired color */
            border-color: #1e6ab7;
            /* Change this to your desired color */
        }

        /* Change color of hover effect */
        .page-link:hover {
            color: #1e6ab7;
            /* Change this to your desired hover color */
        }

        /* Modal text color */
        .modal-content {
            color: black;
        }
    </style>
    <script>
        function viewPDF(resumeId) {
            if (resumeId) {
                window.open('/view-pdf/' + resumeId, '_blank');
            } else {
                alert('No resume ID provided');
            }
        }



        function toggleForm(resumeId) {
            var form = document.getElementById('modify-form-' + resumeId);
            if (form.style.display === 'none') {
                form.style.display = 'block';
            } else {
                form.style.display = 'none';
            }
        }


        function deleteResume(resumeId) {
            if (confirm("Are you sure you want to delete this resume?")) {
                window.location.href = "/delete/" + resumeId;
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            // Get the current page link by its ID
            var currentPageLink = document.getElementById("resumes");

            // Add a class to the current page link
            currentPageLink.classList.add("current-page");
        });
        // Function to toggle display of the modify modal
        function toggleModifyModal(resumeId) {
            $('#modifyModal-' + resumeId).modal('toggle');
        }
        // Function to handle file selection for modifying resume modal
        function handleModifyFileSelect(event, resumeId) {
            var file = event.target.files[0]; // Get the first selected file
            handleModifyFile(file, resumeId);
        }

        // Function to handle a single file for modifying resume modal
        function handleModifyFile(file, resumeId) {
            var container = document.getElementById("selectedFiles-" + resumeId);
            container.innerHTML = ""; // Clear existing file list

            // Create a new paragraph element
            var p = document.createElement("p");
            // Set the text content to the file name
            p.textContent = file.name;

            // Create a close button
            var closeButton = document.createElement("button");
            closeButton.type = "button";
            closeButton.className = "close";
            closeButton.innerHTML = '<span aria-hidden="true">&times;</span>';
            closeButton.style.color = "red";
            closeButton.style.cursor = "pointer";
            // Add event listener to the close button
            closeButton.addEventListener("click", function () {
                container.removeChild(p); // Remove the file name element
            });
            p.appendChild(closeButton); // Append the close button to the paragraph element

            // Append the paragraph element to the container
            container.appendChild(p);
        }

        // Function to handle drag over event for modifying resume modal
        function handleModifyDragOver(event, resumeId) {
            event.preventDefault();
            document.getElementById("modify-dropZone-" + resumeId).classList.add("hover");
        }

        // Function to handle drag leave event for modifying resume modal
        function handleModifyDragLeave(event, resumeId) {
            event.preventDefault();
            document.getElementById("modify-dropZone-" + resumeId).classList.remove("hover");
        }
        function handleModifyDrop(event, resumeId) {
            event.preventDefault();
            document.getElementById("modify-dropZone-" + resumeId).classList.remove("hover");

            var file = event.dataTransfer.files[0]; // Get the first dropped file
            handleModifyFile(file, resumeId);
        }

        // Function to trigger file input click for modifying resume modal
        function browseFiles(inputId) {
            document.getElementById(inputId).click();
        }
    </script>
</head>

<body style="background-image: url('../static/rectangle.png'); background-size: cover;">
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: rgba(57, 62, 70, 0.7);">
        <a class="navbar-brand mr-5" href="#">
            <img src="../static/job.png" alt="Logo" style="width: 42px; height: auto;">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link text-white px-3" href="">New Project</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white px-3" href="#">New Job</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white px-3" href="#">Projects</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white px-3 font-weight-bold" href="#">Resumes</a>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0">
                <div class="input-group rounded">
                    <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
                        aria-describedby="search-addon" />
                    <span class="input-group-text border-0" id="search-addon">
                        <i class="fas fa-search"></i>
                    </span>
                </div>
            </form>
            <!-- Circle with initial letter -->
            <div class="ml-5">
                <div class="circle" style="background-color: #1e6ab7;">
                    <span class="initial-letter text-white">KM</span>
                </div>
            </div>
        </div>
    </nav>





    <div class="container mt-4">
        <!-- Resume Display -->
        <div class="table-responsive">
            <table class="table table-bordered custom-table table-hover">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Phone Number</th>
                        <th>Email</th>
                        <th>Status</th>
                        <th>CV</th>
                        <th>Action</th> <!-- New column for actions -->
                    </tr>
                </thead>
                <tbody>
                    {% for item in data %}
                    <tr>
                        <td>{{ item[1] }}</td> <!-- Name -->
                        <td>{{ item[3] }}</td> <!-- Phone Number -->
                        <td>{{ item[2] }}</td> <!-- Email -->
                        <td>
                            {% if item[9] == 0 %}
                            Available
                            {% else %}
                            Busy
                            {% endif %}
                        </td> <!-- Status -->
                        <td>
                            <button class="btn" onclick="viewPDF('{{ item[0] }}')">
                                <i class="fas fa-eye text-dark"></i> <!-- Eye icon -->
                            </button>
                        </td>
                        <td>


                            <!-- Modal for modifying resumes -->
                            <div class="modal fade" id="modifyModal-{{ item[0] }}" tabindex="-1" role="dialog"
                                aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Modify Resume</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form id="modify-form-{{ item[0] }}" class="modify-form"
                                                action="/modify/{{ item[0] }}" method="post"
                                                enctype="multipart/form-data">
                                                <div class="row">
                                                    <!-- Left Column - Existing Information -->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="name">Name:</label>
                                                            <input type="text" id="name" name="name"
                                                                class="form-control" value="{{ item[1] }}">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="phoneNumber">Phone Number:</label>
                                                            <input type="text" id="phoneNumber" name="phoneNumber"
                                                                class="form-control" value="{{ item[3] }}">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="Email">Email:</label>
                                                            <input type="text" id="email" name="email"
                                                                class="form-control" value="{{ item[2] }}">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="status">Status:</label>
                                                            <select id="status" name="status" class="form-control">
                                                                <option value="0" {% if item[9]==0 %} selected {% endif
                                                                    %}>Available</option>
                                                                <option value="1" {% if item[9]==1 %} selected {% endif
                                                                    %}>Busy</option>
                                                            </select>
                                                        </div>
                                                        <hr>
                                                        <!-- Drag and drop area -->
                                                        <div class="drop-zone">
                                                            <span class="cloud-icon" onclick="browseFiles()">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="60"
                                                                    height="60" fill="currentColor"
                                                                    class="bi bi-cloud-upload-fill" viewBox="0 0 16 16">
                                                                    <path fill-rule="evenodd"
                                                                        d="M8 0a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 4.095 0 5.555 0 7.318 0 9.366 1.708 11 3.781 11H7.5V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11h4.188C14.502 11 16 9.57 16 7.773c0-1.636-1.242-2.969-2.834-3.194C12.923 1.999 10.69 0 8 0m-.5 14.5V11h1v3.5a.5.5 0 0 1-1 0" />
                                                                </svg>
                                                            </span>
                                                            <div class="invisible-line"></div><label
                                                                for="fileModify-{{ item[0] }}"><strong>browse</strong></label>
                                                            to
                                                            upload
                                                        </div>
                                                        <input type="file" id="fileModify-{{ item[0] }}"
                                                            name="resume-modify" accept=".pdf"
                                                            onchange="handleModifyFileSelect(event, '{{ item[0] }}')"
                                                            style="display: none;">
                                                        <div id="selectedFiles-{{ item[0] }}"></div>
                                                    </div>
                                                    <!-- Right Column - Experience and Skills -->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="skills">Skills:</label>
                                                            <textarea id="skills" name="skills" class="form-control"
                                                                rows="5">{{ item[4] }}</textarea>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="experience">Experience:</label>
                                                            <textarea id="experience" name="experience"
                                                                class="form-control" rows="5">{{ item[5] }}</textarea>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="education">Education:</label>
                                                            <textarea id="education" name="education"
                                                                class="form-control" rows="5">{{ item[6] }}</textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Hidden form fields -->
                                                <input type="hidden" name="name" value="{{ item[1] }}">
                                                <input type="hidden" name="email" value="{{ item[2] }}">
                                                <input type="hidden" name="phoneNumber" value="{{ item[3] }}">
                                                <!-- Submit button -->
                                                <button type="submit"
                                                    class="btn custom-upload-button mt-3">Save</button>
                                            </form>
                                        </div>

                                    </div>
                                </div>
                            </div>


        </div>
    </div>
    </div>






    <button class="btn" onclick="toggleModifyModal('{{ item[0] }}')">
        <i class="fas fa-pen text-dark"></i> <!-- Pen icon -->
    </button>

    <!-- Delete icon with onclick function deleteResume('{{ item[0] }}') -->
    <button class="btn" onclick="deleteResume('{{ item[0] }}')">
        <i class="fas fa-trash" style="color: #FF5722;"></i> <!-- Trash icon -->
    </button>
    </td>



    </tr>
    {% endfor %}
    </tbody>

    </table>


    <nav aria-label="Page navigation example" class="pagination">
        <ul class="pagination">
            <li class="page-item {% if data and page == 1 %}disabled{% endif %}">
                <a class="page-link" href="?page={{ page - 1 }}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </a>
            </li>
            {% for i in range(1, total_pages + 1) %}
            <li class="page-item {% if page == i %}active{% endif %}">
                <a class="page-link" href="?page={{ i }}">{{ i }}</a>
            </li>
            {% endfor %}
            <li class="page-item {% if page == total_pages %}disabled{% endif %}">
                <a class="page-link" href="?page={{ page + 1 }}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </a>
            </li>
        </ul>
    </nav>
    </div>
    </div>

    <!-- Modal for uploading resumes -->
    <div class="modal fade" id="uploadModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="text-align: center;">
                    <h5 class="modal-title" id="exampleModalLabel">Upload Resumes</h5>
                </div>
                <div class="modal-body">
                    <form method="POST" enctype="multipart/form-data">
                        <div class="drop-zone" id="dropZone">
                            <span class="cloud-icon" onclick="browseFiles()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor"
                                    class="bi bi-cloud-upload-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M8 0a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 4.095 0 5.555 0 7.318 0 9.366 1.708 11 3.781 11H7.5V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11h4.188C14.502 11 16 9.57 16 7.773c0-1.636-1.242-2.969-2.834-3.194C12.923 1.999 10.69 0 8 0m-.5 14.5V11h1v3.5a.5.5 0 0 1-1 0" />
                                </svg>
                            </span>
                            <div class="invisible-line"></div><label for="fileInput"><strong>browse</strong></label> to
                            upload
                        </div>
                        <input type="file" id="fileInput" name="resume" accept=".pdf" multiple
                            onchange="handleFileSelect(event)">
                        <div id="selectedFiles"></div> <!-- Container for selected file names -->
                        <!-- Hidden input field to store file content -->
                        <input type="hidden" id="cvcontent" name="cvcontent">
                        <button type="submit" class="btn custom-upload-button mt-3">Upload</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Floating button for opening upload modal -->
    <div class="floating-button">
        <button id="floating-button" data-toggle="modal" data-target="#uploadModal"><i
                class="fas fa-user-plus"></i></button>
    </div>
    <!-- Container to display the PDF -->
    <div id="pdf-container"></div>
    </div>
    <!-- jQuery and Bootstrap JS  -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        // Function to handle file input change
        function handleFileSelect(event) {
            var input = event.target;
            var container = document.getElementById("selectedFiles");

            // Loop through each selected file
            for (var i = 0; i < input.files.length; i++) {
                // Create a new paragraph element
                var p = document.createElement("p");
                // Set the text content to the file name
                p.textContent = input.files[i].name;
                // Append the paragraph element to the container
                container.appendChild(p);

                // Create close button for removing the file
                var closeButton = document.createElement("button");
                closeButton.type = "button";
                closeButton.className = "close";
                closeButton.innerHTML = '<span aria-hidden="true">&times;</span>';
                closeButton.style.color = "red";
                closeButton.style.cursor = "pointer";
                // Add event listener to the close button
                closeButton.addEventListener("click", (function (fileElement) {
                    return function () {
                        // Remove the corresponding file name element
                        container.removeChild(fileElement);
                    };
                })(p));
                p.appendChild(closeButton);
            }
        }

        // Function to trigger file input click
        function browseFiles() {
            document.getElementById('fileInput').click();
        }
        // Function to handle form submission
        function handleSubmit(event) {
            // Check if any file is selected
            var files = document.getElementById("fileInput").files;
            if (files.length === 0) {
                // If no file is selected, prevent form submission
                event.preventDefault();

            }
        }
        // Add event listener to the form submission
        document.querySelector("form").addEventListener("submit", handleSubmit);
    </script>
</body>

</html>